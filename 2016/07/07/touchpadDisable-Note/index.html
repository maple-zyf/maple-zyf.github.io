<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>用外接鼠标的插拨来自动禁启用触摸板 | Zeyife&#39;s blog | some notes might be helpful to you.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="theme-color" content="#3F51B5">
  
  
  <meta name="keywords" content="linux,gnome3">
  <meta name="description" content="1 TouchPad Problems


   debian&amp;#x4E0B;&amp;#x6BCF;&amp;#x6B21;&amp;#x5F00;&amp;#x673A;&amp;#x89E6;&amp;#x6478;&amp;#x677F;&amp;#x90FD;&amp;#x662F;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5F00;&amp;#x542F;&amp;#x7684;&amp;#xFF0C;&amp;#x867D;&amp;#x7136;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BBE;">
<meta property="og:type" content="article">
<meta property="og:title" content="用外接鼠标的插拨来自动禁启用触摸板">
<meta property="og:url" content="http://maple-zyf.github.io/2016/07/07/touchpadDisable-Note/index.html">
<meta property="og:site_name" content="Zeyife's blog">
<meta property="og:description" content="1 TouchPad Problems


   debian&amp;#x4E0B;&amp;#x6BCF;&amp;#x6B21;&amp;#x5F00;&amp;#x673A;&amp;#x89E6;&amp;#x6478;&amp;#x677F;&amp;#x90FD;&amp;#x662F;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5F00;&amp;#x542F;&amp;#x7684;&amp;#xFF0C;&amp;#x867D;&amp;#x7136;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BBE;">
<meta property="og:updated_time" content="2016-07-09T03:29:02.723Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="用外接鼠标的插拨来自动禁启用触摸板">
<meta name="twitter:description" content="1 TouchPad Problems


   debian&amp;#x4E0B;&amp;#x6BCF;&amp;#x6B21;&amp;#x5F00;&amp;#x673A;&amp;#x89E6;&amp;#x6478;&amp;#x677F;&amp;#x90FD;&amp;#x662F;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5F00;&amp;#x542F;&amp;#x7684;&amp;#xFF0C;&amp;#x867D;&amp;#x7136;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BBE;">
  
    <link rel="alternative" href="/atom.xml" title="Zeyife&#39;s blog" type="application/atom+xml">
  
  <meta name="summary" content="&lt;div id=&quot;outline-container-sec-1&quot; class=&quot;outline-2&quot;&gt;
&lt;h2 id=&quot;sec-1&quot;&gt;&lt;span class=&quot;section-number-2&quot;&gt;1&lt;/span&gt; TouchPad Problems&lt;/h2&gt;
&lt;div class=&quot;outline-text-2&quot; id=&quot;text-1&quot;&gt;
&lt;p&gt;
   debian&amp;#x4E0B;&amp;#x6BCF;&amp;#x6B21;&amp;#x5F00;&amp;#x673A;&amp;#x89E6;&amp;#x6478;&amp;#x677F;&amp;#x90FD;&amp;#x662F;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5F00;&amp;#x542F;&amp;#x7684;&amp;#xFF0C;&amp;#x867D;&amp;#x7136;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BBE;&amp;#x7F6E;&amp;quot;disable while typing&amp;quot;
&amp;#x4F46;&amp;#x662F;&amp;#x603B;&amp;#x6709;&amp;#x8BEF;&amp;#x89E6;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;xinput&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x8F6F;&amp;#x4EF6;&amp;#x5C42;&amp;#x62E6;&amp;#x622A;&amp;#x4E8B;&amp;#x4EF6;&amp;#x6765;&amp;#x7981;&amp;#x7528;&amp;#x89E6;&amp;#x6478;&amp;#x677F;&amp;#xFF0E;&amp;#x4E3A;&amp;#x4E86;&amp;#x65B9;&amp;#x4FBF;google&amp;#x5230;&amp;#x4E86;
&amp;#x4E00;&amp;#x4E2A;&amp;#x53EF;&amp;#x4EE5;&amp;#x6839;&amp;#x636E;&amp;#x5916;&amp;#x63A5;&amp;#x9F20;&amp;#x6807;&amp;#x63D2;&amp;#x62E8;&amp;#x4E8B;&amp;#x4EF6;&amp;#x6765;&amp;#x81EA;&amp;#x52A8;&amp;#x63A7;&amp;#x5236;&amp;#x89E6;&amp;#x6478;&amp;#x677F;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0E;&amp;#x6211;&amp;#x7684;&amp;#x684C;&amp;#x9762;&amp;#x73AF;&amp;#x5883;&amp;#x4E3A;debian8, gnome3.
&lt;/p&gt;">
  <link rel="shortcut icon" href="/img/webicon.png">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="loading" class="active"></div>

  <nav id="menu"  >
   <div class="inner flex-row-vertical">
  <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
      <i class="icon icon-lg icon-close"></i>
  </a>
  <div class="brand-wrap">
    <div class="brand">
      <a href="/" class="avatar"><img src="/img/logo.png"></a>
      <hgroup class="introduce">
        <h5 class="nickname">Zeyife</h5>
        <a href="mailto:undefined" title="314713169@qq.com" class="mail">314713169@qq.com</a>
      </hgroup>
    </div>
  </div>
  <ul class="nav flex-col">
    
        <li class="waves-block waves-effect">
          <a href="/"  >
            <i class="icon icon-lg icon-home"></i>
            主页
          </a>
        </li>
    
        <li class="waves-block waves-effect">
          <a href="/archives"  >
            <i class="icon icon-lg icon-archives"></i>
            Archives
          </a>
        </li>
    
        <li class="waves-block waves-effect">
          <a href="/tags"  >
            <i class="icon icon-lg icon-tags"></i>
            Tags
          </a>
        </li>
    
        <li class="waves-block waves-effect">
          <a href="https://github.com/maple-zyf" target="_blank" >
            <i class="icon icon-lg icon-github"></i>
            Github
          </a>
        </li>
    
        <li class="waves-block waves-effect">
          <a href="http://www.weibo.com/" target="_blank" >
            <i class="icon icon-lg icon-weibo"></i>
            Weibo
          </a>
        </li>
    
        <li class="waves-block waves-effect">
          <a href="/404"  >
            <i class="icon icon-lg icon-link"></i>
            测试
          </a>
        </li>
    
  </ul>

  <footer class="footer">
  <p><a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0;vertical-align:middle;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAAllBMVEUAAAD///+rsapERER3d3eIiIjMzMzu7u4iIiKUmZO6v7rKzsoODg4RERFVVVUNDQ0NDg0PEA8zMzNLTEtbXltmZmZydnF9gn2AgICPkI+ZmZmqqqq7u7vFxsXIzMgNDQwZGRkgICAhISEkJSMnKCcuMC4xMzE5Ozk7PTtBQkFCQkJDQ0Nna2eGhoaHh4ezuLLGysbd3d1wVGpAAAAA4UlEQVR42q2T1xqCMAyFk7QsBQeKA9x7j/d/OSm22CpX0nzcpA1/T05aAOuBVkMAScQFHLnEwoCo2f1TnQIGoVMewjZEjVFN4GH1Ue1Cn2jWqwfsOOj6wDwGvotsl/c8lv7KIq1eLOsT0HMFHMIE/RZyHnlphryT9zyV+8WH5e8yQw3wnQvgAFxPTKUVi555SHR/lOfLMgVTeDlSfN+TaoUsiTyeIm+bCkHvCA2FUKG48LDtYBZBknsYP/G8NTw0gaaHyuQf4H5pecrB/FYCT2sL9zAfy1Xyjou6L8X2W7YcLyBZCRtnq/zfAAAAAElFTkSuQmCC" /></a></p>
  <p>Zeyife&#39;s blog &copy; 2016</p>
  <p>Power by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
  <a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-2x icon-rss-square"></i></a>
</footer>

</div>

  </nav>
  <main id="main">
    <header class="header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">用外接鼠标的插拨来自动禁启用触摸板</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input " autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-share">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header">
  <div class="container">
    <h1 class="author">用外接鼠标的插拨来自动禁启用触摸板</h1>
    <h5 class="subtitle">
          
            <time datetime="2016-07-06T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2016-07-07
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/linuxconfigure/">linuxconfigure</a></li></ul>
 
        
    </h5>
  </div>
</header>

    <div class="container body-wrap">
      <article id="post-touchpadDisable-Note" 
  class="article article-type-post" itemprop="blogPost">
    <div class="post-meat flex-row">
        
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gnome3/">gnome3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li></ul>

    </div>
    <div class="post-body">
        <aside class="post-widget" id="post-widget">

            
            <div class="post-share" id="post-share">
    <div class="tit">分享到：</div>
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" href="javascript:;" data-title="微博" data-service="tsina">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns" href="javascript:;" data-title="微信" data-service="weixin">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" href="javascript:;" data-title=" QQ" data-service="cqq">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" href="javascript:;" data-title=" Facebook" data-service="fb">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" href="javascript:;" data-title=" Twitter" data-service="twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="douban share-sns" href="javascript:;" data-title="豆瓣" data-service="douban">
          豆
        </a>
      </li>
    </ul>
 </div>

            

            
            <nav class="post-toc-wrap" id="post-toc">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#sec-1"><span class="post-toc-text">1 TouchPad Problems</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#sec-2"><span class="post-toc-text">2 Conception</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#sec-3"><span class="post-toc-text">3 Hacking TouchPad En/Disable with Mouse</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#sec-3-1"><span class="post-toc-text">3.1 gdm登陆页面</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#sec-3-2"><span class="post-toc-text">3.2 gnome3桌面</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#sec-3-3"><span class="post-toc-text">3.3 用鼠标插拨事件来禁/启用触摸板</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#sec-3-4"><span class="post-toc-text">3.4 系统从休眠中唤醒时刷新触摸板状态</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#sec-4"><span class="post-toc-text">4 Done !</span></a></li></ol>
            </nav>
            
        </aside>

        <div class="post-main">

            <div class="post-content" id="post-content" itemprop="postContent">
            
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> TouchPad Problems</h2>
<div class="outline-text-2" id="text-1">
<p>
   debian&#x4E0B;&#x6BCF;&#x6B21;&#x5F00;&#x673A;&#x89E6;&#x6478;&#x677F;&#x90FD;&#x662F;&#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#x7684;&#xFF0C;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&quot;disable while typing&quot;
&#x4F46;&#x662F;&#x603B;&#x6709;&#x8BEF;&#x89E6;&#x7684;&#x60C5;&#x51B5;&#xFF0C;xinput&#x53EF;&#x4EE5;&#x5728;&#x8F6F;&#x4EF6;&#x5C42;&#x62E6;&#x622A;&#x4E8B;&#x4EF6;&#x6765;&#x7981;&#x7528;&#x89E6;&#x6478;&#x677F;&#xFF0E;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;google&#x5230;&#x4E86;
&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x5916;&#x63A5;&#x9F20;&#x6807;&#x63D2;&#x62E8;&#x4E8B;&#x4EF6;&#x6765;&#x81EA;&#x52A8;&#x63A7;&#x5236;&#x89E6;&#x6478;&#x677F;&#x7684;&#x65B9;&#x6CD5;&#xFF0E;&#x6211;&#x7684;&#x684C;&#x9762;&#x73AF;&#x5883;&#x4E3A;debian8, gnome3.
</p>
<a id="more"></a>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Conception</h2>
<div class="outline-text-2" id="text-2">
<p>
&#x5148;&#x67E5;&#x770B;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#xFF1A;
</p>
<pre class="example">
bogwon@bogwon-desktop ~ $ xinput -list
&#x23A1; Virtual core pointer                       id=2   [master pointer  (3)]
&#x239C;   &#x21B3; Virtual core XTEST pointer             id=4   [slave  pointer  (2)]
&#x239C;   &#x21B3; USB Optical Mouse                      id=14  [slave  pointer  (2)]
&#x23A3; Virtual core keyboard                      id=3   [master keyboard (2)]
    &#x21B3; Virtual core XTEST keyboard            id=5   [slave  keyboard (3)]
</pre>
<p>
&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x7535;&#x8111;&#x7684;pointer(&#x9F20;&#x6807;)&#x6709;&#x4E24;&#x4E2A;&#xFF1A;
</p>
<pre class="example">
Virtual core XTEST pointer  id=4
USB Optical Mouse           id=14
</pre>
<p>
&#x8FD9;&#x4E2A; <b>USB Optical Mouse</b> &#x5C31;&#x662F;&#x5916;&#x63A5;&#x9F20;&#x6807;&#x5566;, 
&#x6211;&#x4EEC;&#x8981;&#x627E;&#x7684;&#x81EA;&#x7136;&#x5C31;&#x662F; <b>Virtual core XTEST poin</b> &#x4ED6;&#x7684; <b>id=4</b> .
</p>

<p>
&#x73B0;&#x5728;&#x7528;xinput list-props&#x6765;&#x770B;&#x5B83;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;.&#x3000;=&#x53EF;&#x4EE5;&#x7528;&#x540D;&#x5B57;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;id=
</p>
<pre class="example">
bogwon@bogwon-desktop ~ $ xinput list-props 4         
Device &apos;ETPS/2 Elantech Touchpad&apos;:
	Device Enabled (135):	1
	Coordinate Transformation Matrix (137):	1.000000, 0.000000,
  ... ...
</pre>
<p>
&#x6CE8;&#x610F;&#x770B; <span class="underline">Device Enabled (135):        1</span> &#x8868;&#x793A;&#x89E6;&#x6478;&#x677F;&#x662F;&#x88AB;&#x542F;&#x7528;&#x7684;
&#x8BD5;&#x8BD5;&#x7981;&#x7528;&#x5B83;&#xFF1A;
</p>
<pre class="example">
//&#x8FD9;&#x4E24;&#x6761;&#x547D;&#x4EE4;&#x662F;&#x4E00;&#x4E2A;&#x610F;&#x601D;
bogwon@bogwon-desktop ~ $ xinput set-prop 4 &apos;Device Enabled&apos; 0  
                                      #&#x901A;&#x8FC7;&#x8BBE;&#x5907;&#x7F16;&#x53F7;+&#x5C5E;&#x6027;&#x540D;&#x7981;&#x7528;&#x89E6;&#x6478;&#x677F;
bogwon@bogwon-desktop ~ $ xinput set-prop 4 135 0               
                                      #&#x901A;&#x8FC7;&#x8BBE;&#x5907;&#x7F16;&#x53F7;+&#x5C5E;&#x6027;&#x7F16;&#x53F7;&#x6765;&#x8BBE;&#x7F6E;
//&#x67E5;&#x770B;&#x73B0;&#x5728;&#x7684;&#x72B6;&#x6001;
bogwon@bogwon-desktop ~ $ xinput list-props 4             
Device &apos;ETPS/2 Elantech Touchpad&apos;:
	Device Enabled (135):	0             #&#x53D8;&#x6210;&#x4E86;0&#xFF0C;&#x8868;&#x793A;&#x7981;&#x7528;
	Coordinate Transformation Matrix (137):	1.000000, 0.000000,
  ... ...
</pre>
<p>
&#x73B0;&#x5728;&#x4F60;&#x7684;&#x89E6;&#x6478;&#x677F;&#x662F;&#x4E0D;&#x662F;&#x5DF2;&#x7ECF;&#x4E0D;&#x80FD;&#x7528;&#x4E86;. ^O^
</p>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Hacking TouchPad En/Disable with Mouse</h2>
<div class="outline-text-2" id="text-3">
<p>
&#x8981;&#x8BA9;&#x89E6;&#x6478;&#x677F;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x90FD;&#x53D7;&#x9F20;&#x6807;&#x63A7;&#x5236;&#xFF0C;&#x6709;&#x4E09;&#x4E2A;&#x65B9;&#x9762;&#x9700;&#x8981;&#x8003;&#x8651;&#xFF0E;
<code>&#x6240;&#x6709;&#x6D4B;&#x8BD5;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x5916;&#x63A5;&#x9F20;&#x6807;&#x7684;&#x60C5;&#x51B5;,&#x7A77;&#x5C4C;&#x4E1D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x9F20;&#x6807;&#x989D;</code>
</p>
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> gdm&#x767B;&#x9646;&#x9875;&#x9762;</h3>
<div class="outline-text-3" id="text-3-1">
<p>
   &#x5F00;&#x673A;&#x540E;(&#x8FDB;&#x5165;gdm&#x767B;&#x9646;&#x754C;&#x9762;&#x65F6;)&#x6839;&#x636E;&#x662F;&#x5426;&#x6709;&#x5916;&#x63A5;&#x9F20;&#x6807;&#x6765;&#x63A7;&#x5236;&#x4E00;&#x6B21;&#x89E6;&#x6478;&#x677F;&#x72B6;&#x6001;&#xFF0E;
&#x65B9;&#x6CD5;&#x662F;&#x628A;&#x4E0B;&#x9762;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x6DFB;&#x52A0;&#x5230; /etc/gdm/Init/Default &#x7684; &apos;exit 0&apos; &#x4E4B;&#x524D;&#xFF0E;
</p>
<pre class="example">
#disable touchpad if more than one mouse is available
if [ `ls -d /sys/class/input/mouse* | wc -l` -gt 1 ]; then
	/usr/bin/xinput --set-prop ETPS/2\ Elantech\ Touchpad Device\ Enabled 0
fi
</pre>
<p>
&#x8FD9;&#x4E00;&#x53E5;&#x8981;&#x6CE8;&#x610F;&#xFF1A;if [ `ls -d /sys/class/input/mouse* | wc -l` -gt 1 ]; then
&#x61C2;&#x70B9;shell-script&#x7684;&#x5C31;&#x80FD;&#x770B;&#x61C2;&#x4E86;&#xFF0C;ls &#x5217;&#x51FA;&#x4E86;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;mouse; wc -l&#x662F;&#x6570;&#x884C;&#x6570;.
&#x4E5F;&#x5C31;&#x662F;&#x3000;if [ &#x884C;&#x6570;(&#x9F20;&#x6807;&#x6570;) great than 1 ]; then
</p>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> gnome3&#x684C;&#x9762;</h3>
<div class="outline-text-3" id="text-3-2">
<p>
   &#x7531;gmd&#x8FDB;&#x5165;gnome3&#x540E;&#x53D1;&#x73B0;&#x89E6;&#x6478;&#x677F;&#x5C45;&#x7136;&#x53C8;&#x80FD;&#x7528;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#x7528;autostart&#x81EA;&#x542F;&#x52A8;&#x9879;&#xFF0E;
&#x5148;&#x521B;&#x5EFA;~/disableTouchpad.sh  &#x5185;&#x5BB9;&#x5982;&#x4E0B;:
</p>
<pre class="example">
#!/bin/bash  
if [ `ls -d /sys/class/input/mouse* | wc -l` -gt 1 ]; then
	/usr/bin/xinput --set-prop &apos;ETPS/2 Elantech Touchpad&apos; &apos;Device Enabled&apos; 0
fi
</pre>
<p>
&#x518D;&#x5728;~/.config/autostart/&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x542F;&#x52A8;&#x5668;disableTouchpad.desktop&#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;
</p>
<pre class="example">
[Desktop Entry]
Type=Application
Exec=/path/to/disableTouchpad.sh
Hidden=yes
NoDisplay=yes
X-GNOME-Autostart-enabled=true
Name[zh_CN]=touchpad disable
Name=touchpad disable
Comment[zh_CN]=&#x7981;&#x7528;&#x89E6;&#x6478;&#x677F;
Comment=&#x7981;&#x7528;&#x89E6;&#x6478;&#x677F;
</pre>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> &#x7528;&#x9F20;&#x6807;&#x63D2;&#x62E8;&#x4E8B;&#x4EF6;&#x6765;&#x7981;/&#x542F;&#x7528;&#x89E6;&#x6478;&#x677F;</h3>
<div class="outline-text-3" id="text-3-3">
<p>
&#x5728;&#x7CFB;&#x7EDF;&#x89C4;&#x5219;&#x4E2D;&#x4E3A;&#x89E6;&#x6478;&#x677F;&#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x89C4;&#x5219;&#x547D;&#x540D;&#x4E3A; /etc/udev/rules.d/61-touchpad.rules
</p>
<pre class="example">
# 61-touchpad.rules

# disable PS/2 touchpad on DISPLAY :0 if a mouse is added to the system
  ACTION==&quot;add&quot;, SUBSYSTEM==&quot;input&quot;, ENV{ID_INPUT_MOUSE}==&quot;1&quot;, \
       RUN+=&quot;/bin/sh -c &apos;DISPLAY=:0 /usr/bin/xinput --set-prop \
       ETPS/2\ Elantech\ Touchpad Device\ Enabled 0&apos;&quot;

# enable PS/2 touchpad on DISPLAY :0 if a mouse is removed from the system
  ACTION==&quot;remove&quot;, SUBSYSTEM==&quot;input&quot;, ENV{ID_INPUT_MOUSE}==&quot;1&quot;, \
       RUN+=&quot;/bin/sh -c &apos;DISPLAY=:0 /usr/bin/xinput --set-prop    \
       ETPS/2\ Elantech\ Touchpad Device\ Enabled 1&apos;&quot;
</pre>
<p>
&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x5B9A;&#x4E49;&#x4E86;&#x4E24;&#x4E2A;action, &#x5206;&#x522B;&#x5728;&#x5916;&#x63A5;&#x9F20;&#x6807;&quot;add&quot;&#x548C;&#xFF02;remove&quot;&#x65F6;&#xFF0C;&#x6267;&#x884C;RUN&#x53C2;&#x6570;&#x540E;xinput
&#x547D;&#x4EE4;&#x6765;&#x7BA1;&#x7406;&#x89E6;&#x6478;&#x677F;&#xFF0E;&#x60F3;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x53EF;&#x4EE5;&#x770B;rules.d&#x7684;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF0E;
</p>
</div>
</div>
<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> &#x7CFB;&#x7EDF;&#x4ECE;&#x4F11;&#x7720;&#x4E2D;&#x5524;&#x9192;&#x65F6;&#x5237;&#x65B0;&#x89E6;&#x6478;&#x677F;&#x72B6;&#x6001;</h3>
<div class="outline-text-3" id="text-3-4">
<p>
&#x5C06;&#x4E0B;&#x9762;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x4FDD;&#x5B58;&#x4E3A; /etc/pm/sleep.d/99touchpad
</p>
<pre class="example">
#!/bin/sh
# disable touchpad if more than one mouse is available
disable_touchpad()
{
	/bin/sh -c &apos;DISPLAY=:0 /usr/bin/xinput --set-prop PS/2\ Generic\ TouchPad Device\ Enabled 0&apos;
}

case &quot;$1&quot; in
	thaw|resume)
		if [ `ls -d /sys/class/input/mouse* | wc -l` -gt 1 ]; then
			disable_touchpad
		fi
		;;
		*) exit $NA
		;;
esac
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Done !</h2>
<div class="outline-text-2" id="text-4">
<p>
&#x73B0;&#x5728;&#x90FD;&#x641E;&#x5B9A;&#x4E86;&#xFF0C;&#x91CD;&#x542F;&#x8BD5;&#x8BD5;&#x770B;&#x770B;&#x6709;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;bug&#x5427;&#xFF0E;
</p>
</div>
</div>

            <blockquote>
                <p>
                本文地址：
                <a href="http://maple-zyf.github.io/2016/07/07/touchpadDisable-Note/" target="_blank" rel="external">http://maple-zyf.github.io/2016/07/07/touchpadDisable-Note/</a>
                </p>
                <footer><cite><a href="http://maple-zyf.github.io">@Zeyife's blog</a></cite></footer>
            </blockquote>
            </div>
            
<nav class="post-nav">
  

  
    <div class="waves-block waves-effect next fr">
      <a href="/2015/11/15/first/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Hello,orgmode</h4>
      </a>
    </div>
  
</nav>


            
            
<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="touchpadDisable-Note" data-title="用外接鼠标的插拨来自动禁启用触摸板" data-url="http://maple-zyf.github.io/2016/07/07/touchpadDisable-Note/index.html"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"maple-zyf"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>





        </div>
    </div>
</article>
    </div>
  </main>
<div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>

<script>
var BLOG_SHARE = {
    title: "用外接鼠标的插拨来自动禁启用触摸板",
    pic: "/img/logo.png",
    summary: document.getElementsByName('summary')[0].content,
    url: "http://maple-zyf.github.io/2016/07/07/touchpadDisable-Note/index.html"
};
</script>
<div class="global-share" id="global-share">
    <div class="tit">分享到：</div>
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" href="javascript:;" data-title="微博" data-service="tsina">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns" href="javascript:;" data-title="微信" data-service="weixin">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" href="javascript:;" data-title=" QQ" data-service="cqq">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" href="javascript:;" data-title=" Facebook" data-service="fb">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" href="javascript:;" data-title=" Twitter" data-service="twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="douban share-sns" href="javascript:;" data-title="豆瓣" data-service="douban">
          豆
        </a>
      </li>
    </ul>
 </div>



<script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<script src="/js/main.js"></script>



<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<script type="text/template" id="search-tpl">
<li class="item">
    <a href="/{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</script>

<script src="/js/search.js"></script>









</body>
</html>
